import{r as t,u as h,j as a}from"./index-DVq-LUDh.js";import{a as g}from"./axios-mH-cpkvd.js";const f=({onLogin:i})=>{const[s,d]=t.useState(""),[o,c]=t.useState(""),[n,l]=t.useState([]),m=h(),p=async()=>{try{const e=await g.post("https://richka-server.onrender.com/login",{email:s,password:o});e.data&&e.data.token?(localStorage.setItem("token",e.data.token),i({email:s}),m.push("/")):console.error("Login failed:",e.data)}catch(e){e.response&&e.response.data&&e.response.data.error?l([e.response.data.error]):l(["An unexpected error occurred. Please try again."])}},u=async e=>{e.preventDefault(),p()};return a.jsx("div",{className:"auth",children:a.jsxs("form",{onSubmit:u,className:"Auth-form",children:[a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"Email address"}),a.jsx("input",{type:"email",placeholder:"Enter email",name:"email",value:s,onChange:e=>d(e.target.value)})]}),n.map((e,r)=>a.jsx("div",{className:"alert alert-danger",children:e},r)),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"Password"}),a.jsx("input",{type:"password",placeholder:"Enter password",name:"password",value:o,onChange:e=>c(e.target.value)})]}),n.map((e,r)=>a.jsx("div",{className:"alert alert-danger",children:e},r)),a.jsx("button",{type:"submit",className:"btn btn-primary",children:"Login"}),a.jsx("a",{href:"/richka/#/register",children:"or Register"})]})})};export{f as default};
